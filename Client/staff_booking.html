<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giao di·ªán Nh√¢n vi√™n - ƒê·∫∑t S√¢n</title>
    <link rel="stylesheet" href="style_staff.css">
</head>

<body>
    <div class="staff-wrapper">

        <header class="staff-header">
            <div class="header-left">
                <h2 id="main-title">‚öΩ Qu·∫£n l√Ω ƒê·∫∑t S√¢n</h2>
            </div>
            <nav class="staff-nav">
                <a id="nav-booking" class="nav-item active" data-content="booking-content">ƒê·∫∑t S√¢n</a>
                <a id="nav-schedule" class="nav-item" data-content="schedule-content">L·ªãch Ca</a>
                <a id="nav-notification" class="nav-item" data-content="notification-content">Th√¥ng b√°o</a>
            </nav>
            <div class="profile-info">
                <span class="user-name">Ch√†o, L√™ Th·ªã An (L·ªÖ t√¢n)</span>
                <span class="logout-btn">ƒêƒÉng xu·∫•t</span>
            </div>
        </header>


        <div class="main-content-staff">

            <div id="booking-content">
                <div class="controls-bar">
                    <div class="filter-group">
                        <label for="date-select">Ng√†y:</label>
                        <input type="date" id="date-select" value="2025-11-25">
                    </div>
                    <div class="filter-group">
                        <label for="field-filter">S√¢n:</label>
                        <select id="field-filter">
                            <option>T·∫•t c·∫£</option>
                            <option>S√¢n A</option>
                            <option>S√¢n B</option>
                        </select>
                    </div>
                    <button class="btn-primary create-btn">‚ûï T·∫°o ƒê∆°n M·ªõi</button>
                </div>

                <section class="booking-grid-container card">
                    <h3>L·ªãch ƒê·∫∑t S√¢n H√¥m Nay (25/11/2025)</h3>

                    <div class="booking-grid">
                        <div class="header-cell">Gi·ªù</div>
                        <div class="header-cell">S√¢n A</div>
                        <div class="header-cell">S√¢n B</div>
                        <div class="header-cell">S√¢n C</div>

                        <div class="time-slot" style="grid-row: 2;">08:00</div>
                        <div class="time-slot" style="grid-row: 3;">09:00</div>
                        <div class="time-slot" style="grid-row: 4;">10:00</div>
                        <div class="time-slot" style="grid-row: 5;">11:00</div>
                        <div class="time-slot" style="grid-row: 6;">12:00</div>
                        <div class="time-slot" style="grid-row: 7;">13:00</div>
                        <div class="time-slot" style="grid-row: 8;">14:00</div>
                        <div class="time-slot" style="grid-row: 9;">15:00</div>
                        <div class="time-slot" style="grid-row: 10;">16:00</div>
                        <div class="time-slot" style="grid-row: 11;">17:00</div>
                        <div class="time-slot" style="grid-row: 12;">18:00</div>
                        <div class="time-slot" style="grid-row: 13;">19:00</div>
                        <div class="time-slot" style="grid-row: 14;">20:00</div>
                        <div class="time-slot" style="grid-row: 15;">21:00</div>
                        <div class="time-slot" style="grid-row: 16;">22:00</div>

                        <div class="grid-cell empty-slot" style="grid-row: 2; grid-column: 2;"></div>
                        <div class="grid-cell booked-slot slot-2h" style="grid-row: 3 / span 2; grid-column: 2;">
                            <p class="customer-name">KH001 - Ph·∫°m ƒê·ª©c</p>
                            <span class="status-badge confirmed">ƒê√£ c·ªçc</span>
                        </div>
                        <div class="grid-cell empty-slot" style="grid-row: 5; grid-column: 2;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 6; grid-column: 2;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 7; grid-column: 2;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 8; grid-column: 2;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 9; grid-column: 2;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 10; grid-column: 2;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 11; grid-column: 2;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 12; grid-column: 2;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 13; grid-column: 2;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 14; grid-column: 2;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 15; grid-column: 2;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 16; grid-column: 2;"></div>

                        <div class="grid-cell empty-slot" style="grid-row: 2; grid-column: 3;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 3; grid-column: 3;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 4; grid-column: 3;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 5; grid-column: 3;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 6; grid-column: 3;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 7; grid-column: 3;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 8; grid-column: 3;"></div>
                        <div class="grid-cell booked-slot slot-3h" style="grid-row: 9 / span 3; grid-column: 3;">
                            <p class="customer-name">KH008 - H·ª£p ƒë·ªìng</p>
                            <span class="status-badge confirmed">ƒê√£ TT</span>
                        </div>
                        <div class="grid-cell empty-slot" style="grid-row: 12; grid-column: 3;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 13; grid-column: 3;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 14; grid-column: 3;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 15; grid-column: 3;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 16; grid-column: 3;"></div>

                        <div class="grid-cell empty-slot" style="grid-row: 2; grid-column: 4;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 3; grid-column: 4;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 4; grid-column: 4;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 5; grid-column: 4;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 6; grid-column: 4;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 7; grid-column: 4;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 8; grid-column: 4;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 9; grid-column: 4;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 10; grid-column: 4;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 11; grid-column: 4;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 12; grid-column: 4;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 13; grid-column: 4;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 14; grid-column: 4;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 15; grid-column: 4;"></div>
                        <div class="grid-cell empty-slot" style="grid-row: 16; grid-column: 4;"></div>
                    </div>
                </section>
            </div>


            <div id="schedule-content">
                <div class="controls-bar schedule-controls">

                    <div class="filter-group">
                        <label for="start-date-select">Ng√†y B·∫Øt ƒê·∫ßu:</label>
                        <input type="date" id="start-date-select" value="2025-11-24">
                    </div>

                    <div class="filter-group">
                        <label for="end-date-select">Ng√†y K·∫øt Th√∫c:</label>
                        <input type="date" id="end-date-select" value="2025-11-30">
                    </div>

                    <button class="btn-primary view-schedule-btn">Xem L·ªãch</button>
                </div>

                <section class="schedule-table-container card">
                    <h3>L·ªãch L√†m Vi·ªác C·ªßa B·∫°n: Tu·∫ßn 48 (24/11 - 30/11/2025)</h3>
                    <div class="schedule-grid personal-schedule-grid">

                        <div class="schedule-header-cell employee-col">Ca l√†m vi·ªác</div>
                        <div class="schedule-header-cell day-col">Th·ª© Hai (24)</div>
                        <div class="schedule-header-cell day-col">Th·ª© Ba (25)</div>
                        <div class="schedule-header-cell day-col">Th·ª© T∆∞ (26)</div>
                        <div class="schedule-header-cell day-col">Th·ª© NƒÉm (27)</div>
                        <div class="schedule-header-cell day-col">Th·ª© S√°u (28)</div>
                        <div class="schedule-header-cell day-col">Th·ª© B·∫£y (29)</div>
                        <div class="schedule-header-cell day-col">Ch·ªß Nh·∫≠t (30)</div>

                        <div class="shift-cell">
                            <span class="shift-badge shift-morning">S√°ng (8:00 - 12:00)</span>
                        </div>
                        <div class="shift-cell">
                            <span class="shift-badge shift-full">To√†n ca (8:00 - 17:00)</span>
                        </div>
                        <div class="shift-cell">
                            <span class="shift-badge shift-dayoff">Ngh·ªâ</span>
                        </div>
                        <div class="shift-cell">
                            <span class="shift-badge shift-afternoon">Chi·ªÅu (13:00 - 17:00)</span>
                        </div>
                        <div class="shift-cell">
                            <span class="shift-badge shift-night">T·ªëi (17:00 - 22:00)</span>
                        </div>
                        <div class="shift-cell weekend">
                            <span class="shift-badge shift-full">To√†n ca (8:00 - 17:00)</span>
                        </div>
                        <div class="shift-cell weekend">
                            <span class="shift-badge shift-dayoff">Ngh·ªâ</span>
                        </div>
                        <div class="shift-cell weekend">
                            <span class="shift-badge shift-dayoff">Ngh·ªâ</span>
                        </div>

                    </div>
                </section>
            </div>


            <div id="notification-content">

                <div class="controls-bar">
                    <h3 style="margin-right: auto;">Danh s√°ch Th√¥ng b√°o</h3>
                    <button class="btn-primary mark-all-read-btn">ƒê√°nh d·∫•u ƒë√£ ƒë·ªçc t·∫•t c·∫£</button>
                </div>

                <section class="notification-list-container card">
                    <div class="notification-list">

                        <div class="notification-item unread" data-type="booking">
                            <div class="icon-box new-booking">üîî</div>
                            <div class="notification-details">
                                <p class="notification-title">ƒê∆°n ƒë·∫∑t s√¢n m·ªõi c·∫ßn x√°c nh·∫≠n</p>
                                <p class="notification-message">
                                    Kh√°ch h√†ng **Nguy·ªÖn VƒÉn A** ƒë√£ ƒë·∫∑t S√¢n B, t·ª´ 19:00 - 20:00, ng√†y 25/11/2025.
                                </p>
                                <span class="notification-time">5 ph√∫t tr∆∞·ªõc</span>
                            </div>
                            <button class="mark-read-btn">ƒê√£ ƒë·ªçc</button>
                        </div>

                        <div class="notification-item unread" data-type="shift">
                            <div class="icon-box shift-change">üîÑ</div>
                            <div class="notification-details">
                                <p class="notification-title">Ca l√†m vi·ªác c·ªßa b·∫°n c√≥ thay ƒë·ªïi</p>
                                <p class="notification-message">
                                    Ca l√†m vi·ªác Th·ª© T∆∞ (27/11) c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c chuy·ªÉn t·ª´ **S√°ng** sang **Chi·ªÅu** (13:00
                                    - 17:00).
                                </p>
                                <span class="notification-time">1 gi·ªù tr∆∞·ªõc</span>
                            </div>
                            <button class="mark-read-btn">ƒê√£ ƒë·ªçc</button>
                        </div>

                        <div class="notification-item read" data-type="general">
                            <div class="icon-box general-info">‚ÑπÔ∏è</div>
                            <div class="notification-details">
                                <p class="notification-title">Th√¥ng b√°o chung: C·∫≠p nh·∫≠t gi√° n∆∞·ªõc</p>
                                <p class="notification-message">
                                    Gi√° b√°n n∆∞·ªõc su·ªëi t·∫°i qu·∫ßy s·∫Ω tƒÉng 2,000ƒë k·ªÉ t·ª´ ng√†y 01/12. Vui l√≤ng th√¥ng b√°o cho
                                    kh√°ch h√†ng.
                                </p>
                                <span class="notification-time">H√¥m qua</span>
                            </div>
                        </div>

                    </div>
                </section>
            </div>
        </div>

        <div id="editBookingModal" class="modal-overlay" style="display: none;">
            <div class="modal-content card">
                <h3>‚úèÔ∏è Chi ti·∫øt ƒê∆°n ƒê·∫∑t S√¢n</h3>

                <div class="form-section">
                    <h4>Th√¥ng tin C∆° b·∫£n</h4>
                    <div class="form-row">
                        <div class="form-group half-width">
                            <label>M√£ ƒë∆°n h√†ng:</label>
                            <input type="text" id="edit-booking-id" value="KH001" readonly>
                        </div>
                        <div class="form-group half-width">
                            <label>Kh√°ch h√†ng:</label>
                            <input type="text" id="edit-customer-name" value="Ph·∫°m ƒê·ª©c">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group half-width">
                            <label>Ng√†y:</label>
                            <input type="date" id="edit-date" value="2025-11-25">
                        </div>
                        <div class="form-group half-width">
                            <label>S√¢n:</label>
                            <select id="edit-field">
                                <option value="A" selected>S√¢n A</option>
                                <option value="B">S√¢n B</option>
                                <option value="C">S√¢n C</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group half-width">
                            <label>Th·ªùi gian b·∫Øt ƒë·∫ßu:</label>
                            <select id="edit-start-time">
                                <option value="09:00" selected>09:00</option>
                            </select>
                        </div>
                        <div class="form-group half-width">
                            <label>Th·ªùi gian k·∫øt th√∫c:</label>
                            <select id="edit-end-time">
                                <option value="11:00" selected>11:00</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4>Thanh to√°n & Tr·∫°ng th√°i</h4>
                    <div class="form-row">
                        <div class="form-group half-width">
                            <label>Tr·∫°ng th√°i thanh to√°n:</label>
                            <select id="edit-payment-status">
                                <option value="confirmed" selected>ƒê√£ c·ªçc</option>
                                <option value="paid">ƒê√£ thanh to√°n ƒë·ªß</option>
                                <option value="pending">Ch∆∞a thanh to√°n</option>
                            </select>
                        </div>
                        <div class="form-group half-width">
                            <label>Gi√° s√¢n (VNƒê):</label>
                            <input type="number" id="edit-price" value="200000" readonly>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button class="btn-secondary" id="deleteBookingBtn">üóëÔ∏è X√≥a ƒê∆°n</button>
                    <button class="btn-primary" id="saveBookingBtn">L∆∞u Thay ƒê·ªïi</button>
                    <button class="btn-secondary" id="closeEditModalBtn">ƒê√≥ng</button>
                </div>
            </div>
        </div>

        <div id="newBookingModal" class="modal-overlay" style="display: none;">
            <div class="modal-content card">
                <h3>‚ú® T·∫°o ƒê∆°n ƒê·∫∑t S√¢n M·ªõi</h3>

                <div class="form-section">
                    <h4>Th√¥ng tin Kh√°ch h√†ng</h4>
                    <div class="form-group">
                        <label for="new-customer-name">T√™n Kh√°ch h√†ng <span class="required">*</span></label>
                        <input type="text" id="new-customer-name" placeholder="V√≠ d·ª•: Nguy·ªÖn VƒÉn B">
                    </div>
                    <div class="form-group">
                        <label for="new-phone">S·ªë ƒëi·ªán tho·∫°i <span class="required">*</span></label>
                        <input type="tel" id="new-phone" placeholder="V√≠ d·ª•: 090xxxxxxx">
                    </div>
                </div>

                <div class="form-section">
                    <h4>Th·ªùi gian & S√¢n</h4>
                    <div class="form-row">
                        <div class="form-group half-width">
                            <label for="new-date">Ng√†y ƒë·∫∑t <span class="required">*</span></label>
                            <input type="date" id="new-date" value="2025-11-25">
                        </div>
                        <div class="form-group half-width">
                            <label for="new-field">S√¢n <span class="required">*</span></label>
                            <select id="new-field">
                                <option value="A">S√¢n A</option>
                                <option value="B">S√¢n B</option>
                                <option value="C">S√¢n C</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group half-width">
                            <label for="new-start-time">B·∫Øt ƒë·∫ßu <span class="required">*</span></label>
                            <select id="new-start-time">
                                <option value="08:00">08:00</option>
                                <option value="09:00">09:00</option>
                                <option value="10:00">10:00</option>
                                <option value="21:00">21:00</option>
                            </select>
                        </div>
                        <div class="form-group half-width">
                            <label for="new-end-time">K·∫øt th√∫c <span class="required">*</span></label>
                            <select id="new-end-time">
                                <option value="09:00">09:00</option>
                                <option value="10:00">10:00</option>
                                <option value="11:00">11:00</option>
                                <option value="22:00">22:00</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4>T√≠nh to√°n & Thanh to√°n</h4>
                    <div class="calculation-summary">
                        <p>T·ªïng th·ªùi gian ƒë·∫∑t: <span class="value-display" id="calculated-duration">1 gi·ªù</span></p>
                        <p>ƒê∆°n gi√°/gi·ªù: <span class="value-display" id="price-per-hour">100,000 VNƒê</span></p>
                        <p>T·ªïng ti·ªÅn s√¢n: <span class="value-display" id="calculated-total">100,000 VNƒê</span></p>
                    </div>

                    <div class="form-group" style="margin-top: 15px;">
                        <label for="new-deposit-amount">S·ªë ti·ªÅn Kh√°ch c·ªçc/TT tr∆∞·ªõc (VNƒê)</label>
                        <input type="number" id="new-deposit-amount" value="0">
                    </div>
                    <div class="form-group">
                        <label for="new-notes">Ghi ch√∫ (N·ªôi b·ªô)</label>
                        <textarea id="new-notes" rows="2" placeholder="Y√™u c·∫ßu ƒë·∫∑c bi·ªát, ..."></textarea>
                    </div>
                </div>

                <div class="form-actions">
                    <button class="btn-secondary" id="closeNewModalBtn">H·ªßy</button>
                    <button class="btn-primary" id="submitNewBookingBtn">‚úÖ X√°c nh·∫≠n ƒê·∫∑t S√¢n</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ---------------------- LOGIC TAB NAVIGATION ----------------------
        function showContent(contentId, title) {
            // ·∫®n T·∫§T C·∫¢ n·ªôi dung
            document.getElementById('booking-content').style.display = 'none';
            document.getElementById('schedule-content').style.display = 'none';
            document.getElementById('notification-content').style.display = 'none';

            // Hi·ªÉn th·ªã n·ªôi dung ƒë∆∞·ª£c ch·ªçn
            document.getElementById(contentId).style.display = 'block';

            // C·∫≠p nh·∫≠t ti√™u ƒë·ªÅ ch√≠nh
            document.getElementById('main-title').innerText = title;

            // C·∫≠p nh·∫≠t tr·∫°ng th√°i active c·ªßa nav item
            document.getElementById('nav-booking').classList.remove('active');
            document.getElementById('nav-schedule').classList.remove('active');
            document.getElementById('nav-notification').classList.remove('active');
            document.querySelector(`[data-content="${contentId}"]`).classList.add('active');
        }

        // G√°n s·ª± ki·ªán cho c√°c nav item
        document.getElementById('nav-booking').addEventListener('click', function () {
            showContent('booking-content', '‚öΩ Qu·∫£n l√Ω ƒê·∫∑t S√¢n');
        });

        document.getElementById('nav-schedule').addEventListener('click', function () {
            showContent('schedule-content', 'üóìÔ∏è L·ªãch Ca L√†m Vi·ªác');
        });

        document.getElementById('nav-notification').addEventListener('click', function () {
            showContent('notification-content', 'üîî Th√¥ng b√°o');
        });

        // Thi·∫øt l·∫≠p n·ªôi dung m·∫∑c ƒë·ªãnh khi load trang
        showContent('booking-content', '‚öΩ Qu·∫£n l√Ω ƒê·∫∑t S√¢n');


        // ---------------------- LOGIC CHUNG CHO C√ÅC MODAL ----------------------

        // T·∫°o Modal
        const newModal = document.getElementById('newBookingModal');
        const createNewBookingBtn = document.querySelector('.create-btn');
        const closeNewModalBtn = document.getElementById('closeNewModalBtn');

        // Ch·ªânh s·ª≠a Modal (t·ª´ ph·∫ßn tr∆∞·ªõc)
        const editModal = document.getElementById('editBookingModal');
        const closeEditModalBtn = document.getElementById('closeEditModalBtn');

        // H√†m ƒë√≥ng Modal
        function closeModal(modalElement) {
            modalElement.style.display = 'none';
        }

        // H√†m t√≠nh to√°n gi√° tr·ªã (DEMO)
        function calculateTotal() {
            const startTime = document.getElementById('new-start-time').value;
            const endTime = document.getElementById('new-end-time').value;

            // Chuy·ªÉn gi·ªù th√†nh s·ªë ph√∫t
            const [startHour, startMinute] = startTime.split(':').map(Number);
            const [endHour, endMinute] = endTime.split(':').map(Number);

            const startTotalMinutes = startHour * 60 + startMinute;
            const endTotalMinutes = endHour * 60 + endMinute;

            // T√≠nh to√°n th·ªùi gian (ƒë∆°n gi·∫£n, kh√¥ng ki·ªÉm tra ng√†y kh√°c nhau)
            let durationMinutes = endTotalMinutes - startTotalMinutes;

            if (durationMinutes <= 0) {
                document.getElementById('calculated-duration').innerText = '0 ph√∫t';
                document.getElementById('calculated-total').innerText = '0 VNƒê';
                return 0;
            }

            const durationHours = durationMinutes / 60;
            const pricePerHour = 100000; // Gi√° c·ªë ƒë·ªãnh demo
            const totalPrice = durationHours * pricePerHour;

            document.getElementById('calculated-duration').innerText = `${durationHours} gi·ªù`;
            document.getElementById('calculated-total').innerText = totalPrice.toLocaleString('vi-VN') + ' VNƒê';
            return totalPrice;
        }

        // ---------------------- LOGIC T·∫†O ƒê∆†N M·ªöI ----------------------

        // M·ªü Modal T·∫°o ƒê∆°n
        createNewBookingBtn.addEventListener('click', function () {
            // Reset form (Trong th·ª±c t·∫ø n√™n d√πng form.reset())
            document.getElementById('new-customer-name').value = '';
            document.getElementById('new-phone').value = '';

            // C·∫≠p nh·∫≠t gi√° tr·ªã t√≠nh to√°n ban ƒë·∫ßu
            calculateTotal();

            newModal.style.display = 'flex';
        });

        // ƒê√≥ng Modal T·∫°o ƒê∆°n
        closeNewModalBtn.addEventListener('click', function () {
            closeModal(newModal);
        });

        // G√°n s·ª± ki·ªán t√≠nh to√°n khi thay ƒë·ªïi gi·ªù
        document.getElementById('new-start-time').addEventListener('change', calculateTotal);
        document.getElementById('new-end-time').addEventListener('change', calculateTotal);

        // X·ª≠ l√Ω n√∫t X√°c nh·∫≠n ƒê·∫∑t S√¢n (Demo)
        document.getElementById('submitNewBookingBtn').addEventListener('click', function () {
            const total = calculateTotal();
            if (document.getElementById('new-customer-name').value.trim() === "") {
                alert("Vui l√≤ng nh·∫≠p T√™n Kh√°ch h√†ng.");
                return;
            }
            alert(`ƒê√£ t·∫°o ƒë∆°n m·ªõi cho ${document.getElementById('new-customer-name').value}. T·ªïng ti·ªÅn: ${total.toLocaleString('vi-VN')} VNƒê (Demo)`);
            closeModal(newModal);
            // TH·ª∞C T·∫æ: G·ªåI API ƒê·ªÇ L∆ØU ƒê∆†N V√Ä T·∫¢I L·∫†I L·ªäCH
        });


        // ---------------------- LOGIC CH·ªàNH S·ª¨A ƒê∆†N (Gi·ªØ nguy√™n) ----------------------

        // H√†m m·ªü Modal Ch·ªânh S·ª≠a v√† ƒëi·ªÅn d·ªØ li·ªáu (DEMO)
        function openEditModal(slotElement) {
            const customerText = slotElement.querySelector('.customer-name').innerText;
            const statusText = slotElement.querySelector('.status-badge').innerText;

            document.getElementById('edit-customer-name').value = customerText.split(' - ')[1] || customerText;
            document.getElementById('edit-booking-id').value = customerText.split(' - ')[0];

            const statusMap = { 'ƒê√£ c·ªçc': 'confirmed', 'ƒê√£ TT': 'paid', 'Ch∆∞a TT': 'pending' };
            document.getElementById('edit-payment-status').value = statusMap[statusText] || 'confirmed';

            editModal.style.display = 'flex';
        }

        // G√°n s·ª± ki·ªán click v√†o c√°c √¥ ƒë√£ ƒë·∫∑t
        const bookedSlots = document.querySelectorAll('.booked-slot');
        bookedSlots.forEach(slot => {
            slot.addEventListener('click', function () {
                openEditModal(this);
            });
        });

        // G√°n s·ª± ki·ªán ƒë√≥ng Modal Ch·ªânh S·ª≠a
        closeEditModalBtn.addEventListener('click', function () {
            closeModal(editModal);
        });

        // ƒê√≥ng Modal khi click ra ngo√†i overlay (√Åp d·ª•ng cho c·∫£ hai modal)
        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', function (e) {
                if (e.target === overlay) {
                    closeModal(overlay);
                }
            });
        });

        // X·ª≠ l√Ω n√∫t X√≥a ƒê∆°n (Demo)
        document.getElementById('deleteBookingBtn').addEventListener('click', function () {
            if (confirm("B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a ƒë∆°n ƒë·∫∑t s√¢n n√†y kh√¥ng?")) {
                alert("ƒê∆°n h√†ng ƒë√£ ƒë∆∞·ª£c x√≥a (Demo)");
                closeModal(editModal);
            }
        });

        // X·ª≠ l√Ω n√∫t L∆∞u Thay ƒê·ªïi (Demo)
        document.getElementById('saveBookingBtn').addEventListener('click', function () {
            alert("ƒê∆°n h√†ng ƒë√£ ƒë∆∞·ª£c l∆∞u c√°c thay ƒë·ªïi (Demo)");
            closeModal(editModal);
        });
    </script>

</body>

</html>