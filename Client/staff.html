<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n l√Ω Nh√¢n vi√™n</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Ban ƒë·∫ßu ·∫©n Form Th√™m m·ªõi v√† ch·ªâ hi·ªán Form S·ª≠a */
        #add-staff-card {
            display: none; 
        }
    </style>
</head>

<body>
    <div class="dashboard-wrapper">

        <div id="sidebar-placeholder"></div>

        <div class="main-content-area">

            <header class="top-header">
                <div class="page-title">
                    <h1>Qu·∫£n l√Ω Nh√¢n vi√™n</h1>
                    <p>Th√™m, s·ª≠a, v√† xem th√¥ng tin chi ti·∫øt c·ªßa ƒë·ªôi ng≈© nh√¢n vi√™n.</p>
                </div>
                <div class="user-profile">
                    <div class="profile-avatar">Admin</div>
                </div>
            </header>

            <div class="management-grid">

                <section class="card staff-list-card">
                    <h3>Danh S√°ch Nh√¢n Vi√™n</h3>

                    <button class="add-button" id="add-staff-button">‚ûï Th√™m Nh√¢n Vi√™n M·ªõi</button>

                    <div class="table-responsive">
                        <table class="data-table staff-table" id="staff-list-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>T√™n Nh√¢n Vi√™n</th>
                                    <th>V·ªã tr√≠</th>
                                    <th>L∆∞∆°ng c∆° b·∫£n</th>
                                    <th>Tr·∫°ng th√°i</th>
                                    <th>H√†nh ƒë·ªông</th>
                                </tr>
                            </thead>
                            <tbody id="staff-list-tbody">
                                <tr>
                                    <td>NV001</td>
                                    <td>Nguy·ªÖn VƒÉn Huy (Manager)</td>
                                    <td>Qu·∫£n l√Ω</td>
                                    <td>12,000,000‚Ç´</td>
                                    <td class="status-active">ƒêang l√†m vi·ªác</td>
                                    <td><button class="action-btn edit-btn" data-id="NV001">S·ª≠a</button></td>
                                </tr>
                                <tr>
                                    <td>NV002</td>
                                    <td>L√™ Th·ªã An</td>
                                    <td>L·ªÖ t√¢n</td>
                                    <td>7,500,000‚Ç´</td>
                                    <td class="status-active">ƒêang l√†m vi·ªác</td>
                                    <td><button class="action-btn edit-btn" data-id="NV002">S·ª≠a</button></td>
                                </tr>
                                </tbody>
                        </table>
                    </div>
                </section>

                <section class="card" id="staff-detail-card">
                    <h3>Th√¥ng Tin Chi Ti·∫øt (S·ª≠a NV001)</h3>
                    <form id="edit-staff-form">
                        <div class="form-group">
                            <label for="staff-id">ID Nh√¢n vi√™n:</label>
                            <input type="text" id="staff-id" value="NV001" disabled>
                        </div>
                        <div class="form-group">
                            <label for="staff-name">H·ªç v√† T√™n:</label>
                            <input type="text" id="staff-name" value="Nguy·ªÖn VƒÉn Huy">
                        </div>
                        <div class="form-group">
                            <label for="staff-position">V·ªã tr√≠:</label>
                            <select id="staff-position">
                                <option value="manager" selected>Qu·∫£n l√Ω</option>
                                <option value="receptionist">L·ªÖ t√¢n</option>
                                <option value="technician">B·∫£o tr√¨ s√¢n</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="staff-salary">L∆∞∆°ng c∆° b·∫£n (VND):</label>
                            <input type="number" id="staff-salary" value="12000000">
                        </div>
                        <div class="form-group">
                            <label for="staff-status">Tr·∫°ng th√°i:</label>
                            <select id="staff-status">
                                <option value="active" selected>ƒêang l√†m vi·ªác</option>
                                <option value="on-leave">Ngh·ªâ ph√©p</option>
                                <option value="terminated">ƒê√£ th√¥i vi·ªác</option>
                            </select>
                        </div>
                        <button class="save-button" type="submit">üíæ L∆∞u C·∫≠p Nh·∫≠t</button>
                        <button class="delete-button" type="button">üóëÔ∏è X√≥a Nh√¢n Vi√™n</button>
                    </form>
                </section>

                <section class="card" id="add-staff-card">
                    <h3>‚ûï T·∫°o T√†i Kho·∫£n M·ªõi</h3>
                    
                    <form id="add-staff-form">
                        <div class="form-group">
                            <label for="staff-name">T√™n:</label>
                            <input type="text" id="staff-name" required placeholder="Nguy·ªÖn VƒÉn A">
                        </div>
                        <div class="form-group">
                            <label for="staff-email">Email ƒëƒÉng nh·∫≠p:</label>
                            <input type="email" id="staff-email" required placeholder="staff.new@domain.com">
                        </div>

                        <div class="form-group">
                            <label for="staff-password">M·∫≠t kh·∫©u:</label>
                            <input type="password" id="staff-password" required placeholder="Nh·∫≠p m·∫≠t kh·∫©u (√≠t nh·∫•t 6 k√Ω t·ª±)">
                        </div>

                        <div class="form-group">
                            <label for="staff-role-new">V·ªã tr√≠/Vai tr√≤:</label>
                            <select id="staff-role-new" required>
                                <option value="staff">Nh√¢n vi√™n (Staff)</option>
                            </select>
                        </div>

                        <button type="submit" class="save-button"> T·∫°o T√†i Kho·∫£n </button>
                    </form>
                    
                    <p id="admin-message" style="margin-top: 15px; font-weight: bold;"></p>
                </section>
                </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <script src="dashboard_logic.js"></script> 
    
    <script src="loadSliderBar.js"> </script>
</body>
</html>